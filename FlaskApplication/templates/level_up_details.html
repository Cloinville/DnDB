<html>
    <head>
        <link href="../../static/styles/style.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <form action="{{ url_for('confirmed_level_up') }}" target="_PARENT"  method="POST" autocomplete="off">
            <input type="text" name="test" placeholder="REMOVE THIS AFTER DEBUGGING"/>
            <table>
            {% for alphanumeric_attr_with_datatype in alphanumeric_attr_list %}
                <tr>
                    <td>
                        {{alphanumeric_attr_with_datatype[0]}} : <input type="text" name={{alphanumeric_attr_with_datatype[0]}} pattern="{{alphanumeric_attr_with_datatype[1]}}" maxlength="{{alphanumeric_attr_with_datatype[2]}}" placeholder=""/>
                    </td>
                </tr>
            {% endfor %}

            <!-- Probably don't need this... -->
            {% for enum_attr in enum_attr_list %}
            <tr>
                <td>
                    <label for={{enum_attr[0]}}>{{enum_attr[0]}} : </label>
                </td>
                <td>
                    <select id={{enum_attr[0]}} name={{enum_attr[0]}}>
                        {% for enum_val in enum_attr[1] %}
                            <option value="{{enum_val}}">{{enum_val}}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            {% endfor %}

            <!-- Probably don't need this either... -->
            {% for fk_set in fk_set_list %}
            <tr>
                <td>
                    <label for={{fk_set[0]}}>{{fk_set[0]}} : </label>
                </td>
                <td>
                    <select id={{fk_set[1]}} name={{fk_set[1]}}>
                        {% for fk_value_and_metadata in fk_set[2] %}
                            <option value={{fk_value_and_metadata[2]}}>{{fk_value_and_metadata[0]}}</option>
                        {% endfor %}
                    </td>
                </select>
            </tr>
            {% endfor %}
        </table>
        <table>
        {% if direct_attr_list != None %}
            {% for direct_attr_set in direct_attr_list %}
                <!-- <p> DIRECT ATTRE SET: {{direct_attr_set}} </p> -->
                {% if direct_attr_set[0] == "static-list" or direct_attr_set[0] == "static-dropdown" %}
                    {% for option_fk_set in direct_attr_set[2] %}
                        {% set associative_prefix = direct_attr_set[0] ~ "_" ~ direct_attr_set[1] ~ "_insertassociativefor_" ~ option_fk_set[1] %}
                        <tr>
                            <td>
                                <label for={{option_fk_set[0]}}>{{option_fk_set[0]}} Values: </label>
                            </td>
                            <td>
                                <table class="inner_table">
                                    <tr>
                                        {% if direct_attr_set[0] == "static-list" %}
                                        {% for option in option_fk_set[2] %}
                                        <td>
                                            {{option[0]}} :
                                        </td>
                                        <td>
                                            <!-- <input type="text" name="{{option_fk_set[1]}}={{option[2]}}" required> -->
                                            <input type="text" name="{{associative_prefix}}={{option[2]}}" required>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                    {% else %}
                                    <td>

                                    </td>
                                    <td>
                                        <select name="{{associative_prefix}}">
                                        {% for option in option_fk_set[2] %}
                                        <option value="{{associative_prefix}}={{option[2]}}">{{option[0]}}</option>
                                        {% endfor %}
                                        </select>
                                    </td>
                                    {% endif %}
                                </table>
                            </td>
                        </tr>
                    {% endfor %}
                {% else %}
                    {% for option in direct_attr_set[2] %}
                        {% set associative_prefix = "dynamic_" ~ direct_attr_set[1] ~ "_insertassociativefor_" ~ option[1] %}
                        <tr>
                            <td>
                                <!-- <p> DEBUGGING DYNAMIC DIRECT {{associative_prefix}} // name="insert_for_{{direct_attr_set[1]}}" value="{{option[1]}}" </p> -->
                                <input type="text" id="{{associative_prefix}}_field_type" name="{{associative_prefix}}_field_type" value="select" style="display:none">
                                <label for={{option[0]}}>{{option[0]}}(s) : </label>
                            </td>
                            <td>
                                <table class="inner_table">
                                    <tr>
                                        <td>
                                            <input type="button" name="{{associative_prefix}}" id="{{associative_prefix}}" value="+" class="btn_add_dynamic_field">
                                        </td>
                                        <td>
                                            <select id="{{associative_prefix}}_options" name="{{associative_prefix}}_options" style="display:none">
                                                {% for fk_value_and_metadata in option[2] %}
                                                <option value="{{fk_value_and_metadata[2]}}">{{fk_value_and_metadata[0]}}</option>
                                                {% endfor %}
                                            </select>
                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    {% endfor %}
                {% endif %}
            {% endfor %}
        {% endif %}
        </table>
            <input type="submit_levelup" value="Confirm Level Up">
            </table>
        </form>
    </body>
</html>